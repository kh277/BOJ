# [Platinum III] 챔피언소트 (Large) - 12516 

[문제 링크](https://www.acmicpc.net/problem/12516) 

### 성능 요약

메모리: 110936 KB, 시간: 100 ms

### 분류

조합론, 수학, 확률론

### 제출 일자

2025년 4월 23일 14:45:37

### 문제 설명

<p>여기, 특이한 방법으로 정렬을 하려고 하는 사람이 있다.</p>

<p><strong><em>그리고 그의 이름은 존 시나!!!!</em></strong></p>

<p><img alt="CENA.png" src="https://upload.acmicpc.net/0a735ed4-7f4a-4536-8ec0-35ae4611fbf5/-/preview/"></p>

<p>알고리즘 전문이 아닌 존 시나는 자신만의 방법으로 수를 정렬하려고 한다. 존 시나가 정렬할 배열에는 1부터 N까지의 자연수가 하나씩 들어있다. 우선 존 시나는 배열 안에서 몇 개의 원소를 골라 "You can't see me"라고 발언한다. 그 후 선택한 원소에 동시에 파이브 너클 셔플을 날린다. 그러면 선택한 원소들이 큰 대미지를 입으며 순서가 무작위로 섞이게 된다.</p>

<p>존 시나는 섞을 원소를 선택할 때 최적의 전략을 사용하고자 한다. 즉, 정렬하는 데 필요한 파이브 너클 셔플 횟수의 기댓값을 최소화하려고 한다. (동시에 사용하는 파이브 너클 셔플은 하나로 친다.) 그 기댓값은 얼마일까?</p>

### 입력 

 <p>첫 줄에 테스트케이스의 개수 T가 주어진다. 각 테스트케이스는 두 줄로 이루어져 있다. 첫 줄에는 배열의 길이 N이 주어진다. 두 번째 줄에는 배열의 원소가 차례대로 주어진다.</p>

<p>1 ≤ T ≤ 100이고, 1 ≤ N ≤ 1000이다. 배열에는 1부터 N까지의 자연수가 하나씩 있다.</p>

### 출력 

 <p>각 줄에 테스트케이스 번호 x와 최소 기댓값 y를 Case #x: y의 형태로 출력한다. y는 반올림하여 소수점 아래 6자리까지 출력한다.</p>

